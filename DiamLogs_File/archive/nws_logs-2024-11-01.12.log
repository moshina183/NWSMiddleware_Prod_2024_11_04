2024-11-01 05:09:39,238 INFO [http-nio-9990-exec-2] o.a.c.c.C.[.[.[/] [DirectJDKLog.java:173] 
Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-11-01 05:09:39,257 INFO [http-nio-9990-exec-2] o.s.w.s.DispatcherServlet [FrameworkServlet.java:525] 
Initializing Servlet 'dispatcherServlet'
2024-11-01 05:09:39,257 DEBUG [http-nio-9990-exec-2] o.s.w.s.DispatcherServlet [DispatcherServlet.java:521] 
Detected StandardServletMultipartResolver
2024-11-01 05:09:39,258 DEBUG [http-nio-9990-exec-2] o.s.w.s.DispatcherServlet [DispatcherServlet.java:545] 
Detected AcceptHeaderLocaleResolver
2024-11-01 05:09:39,258 DEBUG [http-nio-9990-exec-2] o.s.w.s.DispatcherServlet [DispatcherServlet.java:570] 
Detected FixedThemeResolver
2024-11-01 05:09:39,310 DEBUG [http-nio-9990-exec-2] o.s.w.s.DispatcherServlet [DispatcherServlet.java:720] 
Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@5c5e63d2
2024-11-01 05:09:39,311 DEBUG [http-nio-9990-exec-2] o.s.w.s.DispatcherServlet [DispatcherServlet.java:784] 
Detected org.springframework.web.servlet.support.SessionFlashMapManager@3d47253c
2024-11-01 05:09:39,311 DEBUG [http-nio-9990-exec-2] o.s.w.s.DispatcherServlet [FrameworkServlet.java:542] 
enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2024-11-01 05:09:39,311 INFO [http-nio-9990-exec-2] o.s.w.s.DispatcherServlet [FrameworkServlet.java:547] 
Completed initialization in 54 ms
2024-11-01 05:09:39,323 DEBUG [http-nio-9990-exec-2] o.s.w.s.DispatcherServlet [LogFormatUtils.java:119] 
POST "/api/v2/getCompanyData", parameters={}
2024-11-01 05:09:39,333 DEBUG [http-nio-9990-exec-2] o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMapping.java:522] 
Mapped to com.nws.api.controller.DiamControllerVer2#getCompanyData(String, HttpServletRequest, HttpServletResponse)
2024-11-01 05:09:39,334 INFO [http-nio-9990-exec-2] c.n.a.i.BaseInterceptor [BaseInterceptor.java:52] 
Inside prehandle
2024-11-01 05:09:39,354 INFO [http-nio-9990-exec-2] c.n.a.i.BaseInterceptor [BaseInterceptor.java:232] 
############Request Processing started for request-id ab and esbURL is /api/v2/getCompanyData
2024-11-01 05:09:39,362 INFO [http-nio-9990-exec-2] c.n.a.f.GetDetails [GetDetails.java:20] 
Inside getEncryption status.. for service code getCompanyData
2024-11-01 05:09:39,946 DEBUG [http-nio-9990-exec-2] c.n.a.f.GetDetails [GetDetails.java:33] 
Encryption status is N
2024-11-01 05:09:39,948 INFO [http-nio-9990-exec-2] c.n.a.i.BaseInterceptor [BaseInterceptor.java:269] 
Inside DDOS filtering
2024-11-01 05:09:39,948 INFO [http-nio-9990-exec-2] c.n.a.f.GetDetails [GetDetails.java:170] 
Inside get error codes.
2024-11-01 05:09:40,020 INFO [http-nio-9990-exec-2] c.n.a.f.AuthenticationFilter [AuthenticationFilter.java:30] 
inside request param validation
2024-11-01 05:09:40,021 INFO [http-nio-9990-exec-2] c.n.a.f.AuthenticationFilter [AuthenticationFilter.java:76] 
In Timestamp validation
2024-11-01 05:09:40,021 INFO [http-nio-9990-exec-2] c.n.a.f.AuthenticationFilter [AuthenticationFilter.java:82] 
The timestamp difference is--
2024-11-01 05:09:40,022 ERROR [http-nio-9990-exec-2] c.n.a.i.BaseInterceptor [BaseInterceptor.java:333] 
Invalid timestamp
2024-11-01 05:09:40,024 INFO [http-nio-9990-exec-2] c.n.a.p.ExceptionProcessor [ExceptionProcessor.java:28] 
Auditing records in AuditDataProcessor.
2024-11-01 05:09:40,107 INFO [pool-2-thread-1] c.n.a.p.ExceptionProcessor [ExceptionProcessor.java:80] 
Auditing in database.
2024-11-01 05:09:40,112 DEBUG [http-nio-9990-exec-2] o.s.w.s.DispatcherServlet [FrameworkServlet.java:1131] 
Completed 200 OK
2024-11-01 05:09:48,390 DEBUG [http-nio-9990-exec-3] o.s.w.s.DispatcherServlet [LogFormatUtils.java:119] 
POST "/api/v2/getCompanyData", parameters={}
2024-11-01 05:09:48,390 DEBUG [http-nio-9990-exec-3] o.s.w.s.m.m.a.RequestMappingHandlerMapping [AbstractHandlerMapping.java:522] 
Mapped to com.nws.api.controller.DiamControllerVer2#getCompanyData(String, HttpServletRequest, HttpServletResponse)
2024-11-01 05:09:48,391 INFO [http-nio-9990-exec-3] c.n.a.i.BaseInterceptor [BaseInterceptor.java:52] 
Inside prehandle
2024-11-01 05:09:48,392 INFO [http-nio-9990-exec-3] c.n.a.i.BaseInterceptor [BaseInterceptor.java:232] 
############Request Processing started for request-id ab and esbURL is /api/v2/getCompanyData
2024-11-01 05:09:48,393 INFO [http-nio-9990-exec-3] c.n.a.f.GetDetails [GetDetails.java:20] 
Inside getEncryption status.. for service code getCompanyData
2024-11-01 05:09:48,459 DEBUG [http-nio-9990-exec-3] c.n.a.f.GetDetails [GetDetails.java:33] 
Encryption status is N
2024-11-01 05:09:48,461 INFO [http-nio-9990-exec-3] c.n.a.i.BaseInterceptor [BaseInterceptor.java:269] 
Inside DDOS filtering
2024-11-01 05:09:48,461 INFO [http-nio-9990-exec-3] c.n.a.f.GetDetails [GetDetails.java:170] 
Inside get error codes.
2024-11-01 05:09:48,535 INFO [http-nio-9990-exec-3] c.n.a.f.AuthenticationFilter [AuthenticationFilter.java:30] 
inside request param validation
2024-11-01 05:09:48,535 INFO [http-nio-9990-exec-3] c.n.a.f.AuthenticationFilter [AuthenticationFilter.java:76] 
In Timestamp validation
2024-11-01 05:09:48,535 INFO [http-nio-9990-exec-3] c.n.a.f.AuthenticationFilter [AuthenticationFilter.java:82] 
The timestamp difference is--
2024-11-01 05:09:48,535 INFO [http-nio-9990-exec-3] c.n.a.f.AuthenticationFilter [AuthenticationFilter.java:122] 
Validating auth key for consumerCode ESP with auth key 36997d562e054a318475c4025b913338
2024-11-01 05:09:48,536 INFO [http-nio-9990-exec-3] c.n.a.f.AuthenticationFilter [AuthenticationFilter.java:139] 
Inside getAuthKeyFromDB..
2024-11-01 05:09:48,602 INFO [http-nio-9990-exec-3] c.n.a.f.AuthenticationFilter [AuthenticationFilter.java:124] 
Auth Key from DB for Consumer code ESP is  36997d562e054a318475c4025b913338
2024-11-01 05:09:48,603 INFO [http-nio-9990-exec-3] c.n.a.f.AuthenticationFilter [AuthenticationFilter.java:139] 
Inside getAuthKeyFromDB..
2024-11-01 05:09:48,676 INFO [http-nio-9990-exec-3] c.n.a.f.AuthenticationFilter [AuthenticationFilter.java:175] 
Whitelist Process Starts here....
2024-11-01 05:09:48,676 INFO [http-nio-9990-exec-3] c.n.a.f.AuthenticationFilter [AuthenticationFilter.java:187] 
Inside is whiteListed
2024-11-01 05:09:48,740 DEBUG [http-nio-9990-exec-3] c.n.a.f.AuthenticationFilter [AuthenticationFilter.java:234] 
Consumer allowed for getCompanyData
2024-11-01 05:09:48,763 DEBUG [http-nio-9990-exec-3] o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor [LogFormatUtils.java:119] 
Read "application/json;charset=UTF-8" to ["<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:cr="http://www.inv (truncated)..."]
2024-11-01 05:09:48,770 INFO [http-nio-9990-exec-3] c.n.a.c.DiamControllerVer2 [DiamControllerVer2.java:826] 
Entered::AbstractEmailDelivery::getRestTemplate()
2024-11-01 05:09:48,802 DEBUG [http-nio-9990-exec-3] o.s.w.c.RestTemplate [CompositeLog.java:127] 
HTTP POST http://10.160.4.111:8081/soapropprod/ropservice/getCompanyData
2024-11-01 05:09:48,807 DEBUG [http-nio-9990-exec-3] o.s.w.c.RestTemplate [CompositeLog.java:127] 
Accept=[text/plain, application/json, application/*+json, */*]
2024-11-01 05:09:48,810 DEBUG [http-nio-9990-exec-3] o.s.w.c.RestTemplate [CompositeLog.java:127] 
Writing [<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:cr="http://www.investeasy.gov.om/schema/cr-2.1">
   <soapenv:Header/>
   <soapenv:Body>
      <cr:companyOverviewRequest>
         <wsRequestHeader>
            <requestId>6</requestId>
            <requestDateTime>2016-04-12T00:00:00.000+04:00</requestDateTime>
            <serviceRequester>PAEW_WSCR</serviceRequester>
            <password>P@3W_WSC8</password>
         </wsRequestHeader>
         <wsRequestBody>
            <crNumber>1234039</crNumber>
         </wsRequestBody>
      </cr:companyOverviewRequest>
   </soapenv:Body>
</soapenv:Envelope>] as "application/xml"
2024-11-01 05:09:48,895 DEBUG [http-nio-9990-exec-3] o.s.w.c.RestTemplate [CompositeLog.java:127] 
Response 200 OK
2024-11-01 05:09:48,902 DEBUG [http-nio-9990-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor [AbstractMessageConverterMethodProcessor.java:268] 
Using 'application/xml', given [*/*] and supported [application/xml]
2024-11-01 05:09:48,903 DEBUG [http-nio-9990-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor [LogFormatUtils.java:119] 
Writing ["<?xml version="1.0" encoding="UTF-8" ?><response><responseHeader><esbStatus>FAILURE</esbStatus></res (truncated)..."]
2024-11-01 05:09:48,961 INFO [http-nio-9990-exec-3] c.n.a.p.AuditLogProcessor [AuditLogProcessor.java:31] 
Auditing records in AuditData Processor.
2024-11-01 05:09:49,093 INFO [pool-3-thread-1] c.n.a.p.AuditLogProcessor [AuditLogProcessor.java:83] 
Auditing in database.
2024-11-01 05:09:49,098 DEBUG [http-nio-9990-exec-3] o.s.w.s.DispatcherServlet [FrameworkServlet.java:1131] 
Completed 200 OK
2024-11-01 05:11:44,234 INFO [RMI TCP Connection(7)-127.0.0.1] o.s.b.a.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [SpringApplicationAdminMXBeanRegistrar.java:159] 
Application shutdown requested.
2024-11-01 05:11:44,235 DEBUG [RMI TCP Connection(7)-127.0.0.1] o.s.b.a.ApplicationAvailabilityBean [ApplicationAvailabilityBean.java:77] 
Application availability state ReadinessState changed from ACCEPTING_TRAFFIC to REFUSING_TRAFFIC
2024-11-01 05:11:44,235 DEBUG [RMI TCP Connection(7)-127.0.0.1] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [AbstractApplicationContext.java:1049] 
Closing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@76c7beb3, started on Fri Nov 01 05:09:24 GST 2024
2024-11-01 05:11:44,237 DEBUG [RMI TCP Connection(7)-127.0.0.1] o.s.c.s.DefaultLifecycleProcessor [DefaultLifecycleProcessor.java:365] 
Stopping beans in phase 2147483647
2024-11-01 05:11:44,239 DEBUG [RMI TCP Connection(7)-127.0.0.1] o.s.c.s.DefaultLifecycleProcessor [DefaultLifecycleProcessor.java:238] 
Bean 'webServerGracefulShutdown' completed its stop procedure
2024-11-01 05:11:44,239 DEBUG [RMI TCP Connection(7)-127.0.0.1] o.s.c.s.DefaultLifecycleProcessor [DefaultLifecycleProcessor.java:365] 
Stopping beans in phase 2147483646
2024-11-01 05:11:44,296 INFO [RMI TCP Connection(7)-127.0.0.1] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] 
Pausing ProtocolHandler ["http-nio-9990"]
2024-11-01 05:11:44,297 INFO [RMI TCP Connection(7)-127.0.0.1] o.a.c.c.StandardService [DirectJDKLog.java:173] 
Stopping service [Tomcat]
2024-11-01 05:11:44,300 INFO [RMI TCP Connection(7)-127.0.0.1] o.a.c.c.C.[.[.[/] [DirectJDKLog.java:173] 
Destroying Spring FrameworkServlet 'dispatcherServlet'
2024-11-01 05:11:44,306 WARN [RMI TCP Connection(7)-127.0.0.1] o.a.c.l.WebappClassLoaderBase [DirectJDKLog.java:173] 
The web application [ROOT] appears to have started a thread named [logback-6] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@11.0.10/jdk.internal.misc.Unsafe.park(Native Method)
 java.base@11.0.10/java.util.concurrent.locks.LockSupport.park(LockSupport.java:194)
 java.base@11.0.10/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2081)
 java.base@11.0.10/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1170)
 java.base@11.0.10/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base@11.0.10/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1054)
 java.base@11.0.10/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1114)
 java.base@11.0.10/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
 java.base@11.0.10/java.lang.Thread.run(Thread.java:834)
2024-11-01 05:11:44,307 WARN [RMI TCP Connection(7)-127.0.0.1] o.a.c.l.WebappClassLoaderBase [DirectJDKLog.java:173] 
The web application [ROOT] appears to have started a thread named [Timer-0] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@11.0.10/java.lang.Object.wait(Native Method)
 java.base@11.0.10/java.lang.Object.wait(Object.java:328)
 java.base@11.0.10/java.util.TimerThread.mainLoop(Timer.java:527)
 java.base@11.0.10/java.util.TimerThread.run(Timer.java:506)
2024-11-01 05:11:44,307 WARN [RMI TCP Connection(7)-127.0.0.1] o.a.c.l.WebappClassLoaderBase [DirectJDKLog.java:173] 
The web application [ROOT] appears to have started a thread named [oracle.jdbc.driver.BlockSource.ThreadedCachingBlockSource.BlockReleaser] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@11.0.10/java.lang.Object.wait(Native Method)
 app//oracle.jdbc.driver.BlockSource$ThreadedCachingBlockSource$BlockReleaser.run(BlockSource.java:331)
2024-11-01 05:11:44,308 WARN [RMI TCP Connection(7)-127.0.0.1] o.a.c.l.WebappClassLoaderBase [DirectJDKLog.java:173] 
The web application [ROOT] appears to have started a thread named [InterruptTimer] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base@11.0.10/java.lang.Object.wait(Native Method)
 java.base@11.0.10/java.util.TimerThread.mainLoop(Timer.java:553)
 java.base@11.0.10/java.util.TimerThread.run(Timer.java:506)
2024-11-01 05:11:44,310 INFO [RMI TCP Connection(7)-127.0.0.1] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] 
Stopping ProtocolHandler ["http-nio-9990"]
2024-11-01 05:11:44,314 INFO [RMI TCP Connection(7)-127.0.0.1] o.a.c.h.Http11NioProtocol [DirectJDKLog.java:173] 
Destroying ProtocolHandler ["http-nio-9990"]
2024-11-01 05:11:44,315 DEBUG [RMI TCP Connection(7)-127.0.0.1] o.s.c.s.DefaultLifecycleProcessor [DefaultLifecycleProcessor.java:238] 
Bean 'webServerStartStop' completed its stop procedure
2024-11-01 05:11:44,316 DEBUG [RMI TCP Connection(7)-127.0.0.1] o.s.c.s.DefaultLifecycleProcessor [DefaultLifecycleProcessor.java:365] 
Stopping beans in phase -2147483647
2024-11-01 05:11:44,317 DEBUG [RMI TCP Connection(7)-127.0.0.1] o.s.c.s.DefaultLifecycleProcessor [DefaultLifecycleProcessor.java:238] 
Bean 'springBootLoggingLifecycle' completed its stop procedure
2024-11-01 05:11:44,319 DEBUG [RMI TCP Connection(7)-127.0.0.1] o.s.j.e.a.AnnotationMBeanExporter [MBeanExporter.java:452] 
Unregistering JMX-exposed beans on shutdown
2024-11-01 05:11:44,320 DEBUG [RMI TCP Connection(7)-127.0.0.1] o.s.s.c.ThreadPoolTaskExecutor [ExecutorConfigurationSupport.java:218] 
Shutting down ExecutorService 'applicationTaskExecutor'
2024-11-01 05:11:59,946 INFO [main] c.n.a.NwsMiddlewareApplication [StartupInfoLogger.java:55] 
Starting NwsMiddlewareApplication using Java 11.0.10 on DIAM-ITAMIDWARE with PID 104656 (D:\allConfigData\NwsMiddleware\target\classes started by PAMIDMGMT in D:\allConfigData\NwsMiddleware)
2024-11-01 05:11:59,949 DEBUG [main] c.n.a.NwsMiddlewareApplication [StartupInfoLogger.java:56] 
Running with Spring Boot v2.7.9, Spring v5.3.25
2024-11-01 05:11:59,950 INFO [main] c.n.a.NwsMiddlewareApplication [SpringApplication.java:631] 
No active profile set, falling back to 1 default profile: "default"
2024-11-01 05:11:59,951 DEBUG [main] o.s.b.SpringApplication [SpringApplication.java:664] 
Loading source class com.nws.api.NwsMiddlewareApplication
2024-11-01 05:12:00,023 DEBUG [main] o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [AbstractApplicationContext.java:629] 
Refreshing org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext@2f058b8a
2024-11-01 05:12:00,053 DEBUG [main] o.s.b.f.s.DefaultListableBeanFactory [DefaultSingletonBeanRegistry.java:225] 
Creating shared instance of singleton bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'
2024-11-01 05:12:00,072 DEBUG [main] o.s.b.f.s.DefaultListableBeanFactory [DefaultSingletonBeanRegistry.java:225] 
Creating shared instance of singleton bean 'org.springframework.boot.autoconfigure.internalCachingMetadataReaderFactory'
2024-11-01 05:12:00,170 DEBUG [main] o.s.c.a.ClassPathBeanDefinitionScanner [ClassPathScanningCandidateComponentProvider.java:435] 
Identified candidate component class: file [D:\allConfigData\NwsMiddleware\target\classes\com\nws\api\config\WebConfig.class]
2024-11-01 05:12:00,193 DEBUG [main] o.s.c.a.ClassPathBeanDefinitionScanner [ClassPathScanningCandidateComponentProvider.java:435] 
Identified candidate component class: file [D:\allConfigData\NwsMiddleware\target\classes\com\nws\api\controller\Controllers.class]
2024-11-01 05:12:00,197 DEBUG [main] o.s.c.a.ClassPathBeanDefinitionScanner [ClassPathScanningCandidateComponentProvider.java:435] 
Identified candidate component class: file [D:\allConfigData\NwsMiddleware\target\classes\com\nws\api\controller\DiamControllerVer1.class]
2024-11-01 05:12:00,201 DEBUG [main] o.s.c.a.ClassPathBeanDefinitionScanner [ClassPathScanningCandidateComponentProvider.java:435] 
Identified candidate component class: file [D:\allConfigData\NwsMiddleware\target\classes\com\nws\api\controller\DiamControllerVer2.class]
2024-11-01 05:12:00,204 DEBUG [main] o.s.c.a.ClassPathBeanDefinitionScanner [ClassPathScanningCandidateComponentProvider.java:435] 
Identified candidate component class: file [D:\allConfigData\NwsMiddleware\target\classes\com\nws\api\esb\ConnectionHelper.class]
2024-11-01 05:12:00,208 DEBUG [main] o.s.c.a.ClassPathBeanDefinitionScanner [ClassPathScanningCandidateComponentProvider.java:435] 
Identified candidate component class: file [D:\allConfigData\NwsMiddleware\target\classes\com\nws\api\exception\GlobalExceptionHandler.class]
2024-11-01 05:12:00,214 DEBUG [main] o.s.c.a.ClassPathBeanDefinitionScanner [ClassPathScanningCandidateComponentProvider.java:435] 
Identified candidate component class: file [D:\allConfigData\NwsMiddleware\target\classes\com\nws\api\interceptor\BaseInterceptor.class]
2024-11-01 05:12:00,228 DEBUG [main] o.s.c.a.ClassPathBeanDefinitionScanner [ClassPathScanningCandidateComponentProvider.java:435] 
Identified candidate component class: file [D:\allConfigData\NwsMiddleware\target\classes\com\nws\api\service\DiamServiceVer1.class]
